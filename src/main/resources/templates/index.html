<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <style>
        td, th {
            border: 1px solid #000;
            padding: 5px;
        }
    </style>
</head>
<body>
<h1>Welcome!</h1>

<a th:if="${!isLoggedIn}" href="/register">Register</a>
<a th:if="${!isLoggedIn}" href="/login">Login</a>
<a th:if="${isLoggedIn}" href="/user/keywords">Keyword panel</a>

<h1>Top Keywords</h1>
<table>
    <tr>
        <th>Keyword</th>
        <th>follower count</th>
    </tr>
    <tr th:each="entry : ${topkeywords}">
        <td th:text="${entry[0].name}"></td>
        <td th:text="${entry[1]}"></td>
    </tr>
</table>

<h1>Top Users</h1>
<table>
    <tr>
        <th>User (email)</th>
        <th>keyword count</th>
    </tr>
    <tr th:each="entry : ${topusers}">
        <td th:text="${entry[0].email}"></td>
        <td th:text="${entry[1]}"></td>
    </tr>
</table>

<h1>My keyword statistics</h1>

<table th:if="${isLoggedIn}">
    <tr>
        <th>Keyword</th>
        <th>Today</th>
        <th>Yesterday</th>
        <th>The day before yesterday</th>
    </tr>
    <tr th:each="keyword : ${keywords}">
        <td th:text="${keyword.name}"></td>
        <td th:text="${todaysCounts[keyword.name]}"></td>
        <td th:text="${yesterdaysCounts[keyword.name]}"></td>
        <td th:text="${tdbyesterdaysCounts[keyword.name]}"></td>
    </tr>
</table>

<a href="/download-all-news">Download all news</a>

</body>
</html>